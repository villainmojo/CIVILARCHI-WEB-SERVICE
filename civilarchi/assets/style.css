:root{
  /* Brand palette (low saturation) */
  --navy:#1F2A44;           /* Main */
  --steel:#3A6EA5;          /* Secondary */
  --concrete:#E6E8EB;       /* Background / cards */
  --text:#2E2E2E;           /* Dark text */

  /* Status colors */
  --ok:#2E7D32;
  --warn:#ED6C02;
  --fail:#C62828;

  /* UI */
  --border: rgba(31,42,68,0.18);
  --shadow: 0 10px 30px rgba(16,24,40,0.08);
  --radius: 14px;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Noto Sans, Apple SD Gothic Neo, "Malgun Gothic", Arial, sans-serif;
  background: linear-gradient(180deg, rgba(31,42,68,0.10), transparent 260px), var(--concrete);
  color: var(--text);
}

.container{max-width:1100px; margin:0 auto; padding:18px}

/* top */
.top{position:sticky; top:0; z-index:10; background: rgba(230,232,235,0.75); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border)}
.top-inner{display:flex; align-items:center; justify-content:space-between; gap:12px}
.brand{display:flex; align-items:center; gap:12px}
.logo{width:38px; height:38px; display:grid; place-items:center; border:1px solid var(--border); border-radius:10px; font-weight:800; color: var(--navy); background:#fff}
.name{font-weight:900; letter-spacing:0.3px; color: var(--navy)}
.sub{font-size:12px; color: rgba(46,46,46,0.72)}
.nav{display:flex; gap:14px; align-items:center}
.nav a{color: rgba(46,46,46,0.72); text-decoration:none; font-size:14px}
.nav a.active{color: var(--navy); font-weight:700}

/* app layout */
.app{display:grid; grid-template-columns: 280px 1fr; gap:16px; align-items:start; margin-top:14px}

/* Sidebar should appear only when using a tool */
body[data-view="home"] .sidebar{display:none}
body[data-view="home"] .app{grid-template-columns: 1fr}
body[data-view="home"] .content{min-height:auto}

.sidebar{
  position:sticky; top:78px;
  background:#fff;
  border:1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding:14px;
}
.sb-title{font-size:12px; font-weight:800; color: rgba(31,42,68,0.82); margin:10px 0 8px 0; text-transform: uppercase; letter-spacing: 0.06em}
.sb-item{
  display:block;
  padding:10px 10px;
  border-radius: 12px;
  text-decoration:none;
  color: rgba(46,46,46,0.86);
  border: 1px solid transparent;
}
.sb-item:hover{border-color: rgba(58,110,165,0.22); background: rgba(58,110,165,0.06)}
.sb-item.active{border-color: rgba(58,110,165,0.35); background: rgba(58,110,165,0.10); color: var(--navy); font-weight:800}

.sb-box{border:1px solid var(--border); border-radius: 12px; padding:10px; background: rgba(31,42,68,0.02)}
.row{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:6px 0}
.label{font-size:12px; color: rgba(46,46,46,0.7)}

.content{min-height: calc(100vh - 140px)}

/* typography helpers */
.muted{color: rgba(46,46,46,0.68)}
.small{font-size:12px}
.mono{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace}
code{background: rgba(31,42,68,0.06); padding:2px 6px; border-radius:8px; border:1px solid rgba(31,42,68,0.12)}

/* cards */
.cards{display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:14px; margin-top:14px}
.card{background:#fff; border:1px solid var(--border); border-radius: var(--radius); padding:14px; box-shadow: var(--shadow)}
.card h2{margin:0 0 8px 0; font-size:16px; color: var(--navy)}
.card ul{margin:10px 0 0 18px}

.hero{padding: 6px 0}
.hero h1{margin: 10px 0 6px 0; font-size:26px; color: var(--navy)}

/* Home */
.home-hero{
  position:relative;
  border-radius: calc(var(--radius) + 8px);
  overflow:hidden;
  border: 1px solid rgba(31,42,68,0.12);
  box-shadow: var(--shadow);
  background: #fff;
}
.home-hero-bg{
  position:absolute; inset:0;
  background:
    radial-gradient(700px 360px at 18% 20%, rgba(58,110,165,0.22), transparent 60%),
    radial-gradient(680px 360px at 85% 0%, rgba(31,42,68,0.18), transparent 55%),
    linear-gradient(180deg, rgba(31,42,68,0.06), transparent 65%);
}
.home-hero-inner{position:relative; display:grid; grid-template-columns: 1.2fr 1fr; gap:18px; padding:22px}
.home-kicker{font-weight:900; color: rgba(31,42,68,0.8); letter-spacing: 0.10em; font-size:12px; text-transform:uppercase}
.home-title h1{margin:10px 0 8px 0; font-size:30px; color: var(--navy)}

.quick{background: rgba(230,232,235,0.55); border:1px solid rgba(31,42,68,0.14); border-radius: var(--radius); padding:14px}
.quick-title{font-weight:900; color: var(--navy); margin-bottom:10px}
.quick-grid{display:grid; grid-template-columns: 1fr; gap:10px}
.quick-card{
  width:100%; text-align:left;
  padding:12px 12px;
  border-radius: 14px;
  border: 1px solid rgba(31,42,68,0.18);
  background:#fff;
  cursor:pointer;
}
.quick-card:disabled{opacity:0.6; cursor:not-allowed}
.quick-card:hover{border-color: rgba(58,110,165,0.35); box-shadow: 0 10px 26px rgba(16,24,40,0.08)}
.qc-top{display:flex; align-items:center; gap:10px}
.qc-icon{width:34px; height:34px; border-radius: 10px; display:grid; place-items:center; font-weight:900; color:#fff; background: var(--steel)}
.qc-name{font-weight:900; color: var(--navy)}
.qc-desc{margin-top:6px; color: rgba(46,46,46,0.70); font-size:12px; line-height:1.45}

.home-meta{display:flex; flex-wrap:wrap; gap:10px; margin-top:12px; color: rgba(46,46,46,0.72); font-size:12px}
.meta-item{display:flex; align-items:center; gap:8px}
.dot{width:10px; height:10px; border-radius:999px; display:inline-block; border:1px solid rgba(0,0,0,0.12)}
.dot.ok{background: rgba(46,125,50,0.20); border-color: rgba(46,125,50,0.28)}
.dot.neutral{background: rgba(31,42,68,0.08); border-color: rgba(31,42,68,0.18)}
.dot.steel{background: rgba(58,110,165,0.30); border-color: rgba(58,110,165,0.38)}

@media (max-width: 980px){
  .home-hero-inner{grid-template-columns: 1fr}
}

.pagehead{display:flex; align-items:flex-start; justify-content:space-between; gap:12px; margin-top:4px}
.pagehead h1{margin:0; font-size:22px; color: var(--navy)}
.page-actions{display:flex; gap:10px; align-items:center}

/* form */
.form{display:grid; gap:10px}
label{display:grid; gap:6px}
label > span{font-size:12px; color: rgba(46,46,46,0.74); font-weight:700}
input, select{
  width:100%;
  padding:10px 12px;
  border-radius:12px;
  border:1px solid rgba(31,42,68,0.20);
  outline:none;
  background:#fff;
  color: var(--text);
}
input:focus, select:focus{border-color: rgba(58,110,165,0.6); box-shadow: 0 0 0 4px rgba(58,110,165,0.14)}
.row-inline{display:flex; align-items:center; justify-content:flex-start}
label.inline{display:flex; align-items:center; gap:10px}
label.inline input{width:auto}
.hint{font-size:12px; color: rgba(46,46,46,0.62); line-height:1.45}

/* buttons */
.btns{display:flex; gap:10px; flex-wrap:wrap}
.btn{
  cursor:pointer;
  border-radius: 12px;
  border:1px solid rgba(31,42,68,0.22);
  background:#fff;
  color: var(--navy);
  padding:10px 12px;
  font-weight:800;
}
.btn.primary{background: var(--steel); border-color: rgba(58,110,165,0.55); color:#fff}
.btn:hover{filter: brightness(0.98)}

/* badges */
.badge{display:inline-flex; align-items:center; gap:6px; padding:5px 10px; border-radius:999px; font-size:12px; font-weight:900; border: 1px solid rgba(0,0,0,0.08)}
.badge.ok{background: rgba(46,125,50,0.12); color: var(--ok); border-color: rgba(46,125,50,0.22)}
.badge.warn{background: rgba(237,108,2,0.10); color: var(--warn); border-color: rgba(237,108,2,0.25)}
.badge.fail{background: rgba(198,40,40,0.10); color: var(--fail); border-color: rgba(198,40,40,0.25)}

/* result */
.result{display:grid; gap:10px}
.kv{display:flex; align-items:baseline; justify-content:space-between; gap:10px; padding:10px 10px; border:1px dashed rgba(31,42,68,0.22); border-radius: 12px; background: rgba(31,42,68,0.02)}
.kv .k{font-size:12px; color: rgba(46,46,46,0.72); font-weight:800}
.kv .v{font-size:18px; font-weight:900; color: var(--navy)}
.notice{margin-top:10px; padding:10px 12px; border-radius: 12px; border:1px solid rgba(237,108,2,0.25); background: rgba(237,108,2,0.08); color: rgba(46,46,46,0.84)}

/* Sum table */
.sum{border:1px solid rgba(31,42,68,0.14); border-radius: var(--radius); background: rgba(255,255,255,0.65); padding:12px}
.sum.full{width:100%}
.sum-head{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:10px; flex-wrap:wrap}
.sum-head h3{margin:0; font-size:14px; color: var(--navy)}
.sum-actions{display:flex; gap:10px; align-items:center}
.sum-totals{display:flex; gap:10px; align-items:center; flex-wrap:wrap}
.sum-table-wrap{overflow:auto; border-radius: 12px; border:1px solid rgba(31,42,68,0.14); background:#fff}
.sum-table{width:100%; border-collapse: collapse; min-width: 760px}
.sum-table th, .sum-table td{padding:10px 10px; border-bottom:1px solid rgba(31,42,68,0.10); font-size:12px; vertical-align:middle}
.sum-table th{color: rgba(31,42,68,0.78); text-align:left; background: rgba(31,42,68,0.03)}
.sum-table td{color: rgba(46,46,46,0.88)}
.sum-table .right{text-align:right}
.sum-table input{
  width:110px;
  padding:8px 10px;
  border-radius: 10px;
  border:1px solid rgba(31,42,68,0.18);
}
.sum-table .mini-btn{padding:7px 10px; border-radius:10px; border:1px solid rgba(31,42,68,0.18); background:#fff; cursor:pointer; font-weight:900; color: rgba(31,42,68,0.9)}
.sum-table .mini-btn:hover{border-color: rgba(58,110,165,0.35)}

.footer{margin-top:20px; padding:18px 0; border-top:1px solid rgba(31,42,68,0.14)}

@media (max-width: 980px){
  .app{grid-template-columns: 1fr}
  .sidebar{position:relative; top:auto}
}

/* tool cards layout (input/result) */
.cards.tool-cards{grid-template-columns: repeat(2, minmax(0,1fr));}
@media (max-width: 980px){
  .cards.tool-cards{grid-template-columns: 1fr;}
}

/* Draft */
.draft{display:grid; grid-template-columns: 380px 1fr; gap:14px; align-items:stretch; margin-top:12px}
.draft-panel{position:sticky; top:78px; align-self:start}
.draft-canvas-wrap{min-height: 520px}
.draft-canvas{height: calc(100vh - 220px); min-height: 520px; background: #fff; border:1px solid rgba(31,42,68,0.14); border-radius: calc(var(--radius) + 8px); box-shadow: var(--shadow); overflow:hidden}

@media (max-width: 980px){
  .draft{grid-template-columns: 1fr}
  .draft-panel{position:relative; top:auto}
  .draft-canvas{height: 520px}
}
@media (max-width: 780px){
  .cards{grid-template-columns:1fr}
  .top-inner{flex-direction:column; align-items:flex-start}
}
